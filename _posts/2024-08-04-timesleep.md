---
layout: single
title: "[BOJ] C++ 시간초과 해결 방법"
category: BOJ
---

BOJ에서 C++로 문제를 풀다 보면 분명 맞는 코드이고 더 이상 시간을 줄일 방법이 없는데도 불구하고 종종 시간 초과가 발생하곤 한다.

C++을 이용하여 문제를 풀 때 시간 초과가 발생하는 문제가 다음 해결 방법을 시도해 볼 수 있다.

## 1. 개행 문자 바꾸기

다음 두 코드를 보자.

```c++
cout << endl;
```

```c++
cout << "\n";
```

둘 다 똑같은 기능(줄바꿈)을 하는 것처럼 보일 수 있겠지만, 사실 버퍼 관리에 있어서 중요한 차이점이 있다.

### ① std::endl 사용

```std::endl;```은 줄바꿈 문자를 출력한 후, 출력 버퍼를 플러시한다.

버퍼를 플러시하는데 시간이 걸리므로 시간 관리 측면에서 불리해지며, 이로 인해 시간 초과가 발생할 수 있다.

### ② "\n" 사용

```\n```은 단순히 줄바꿈 문자를 출력할 뿐이며, 버퍼를 플러시하지 않는다.

따라서 ```\n```을 사용하면 위의 ```std::cout```을 사용할 때보다 시간 관리 측면에서 훨씬 유리하기 때문에 시간 초과를 해결할 수 있는 방법이다.

## 2. 3개의 구문 추가

이 3개의 구문을 main 함수 안에 추가해 보자.

```c++
int main()
{
	ios::sync_with_stdio(false);
	cin.tie(NULL);
	cout.tie(NULL);
}
```

이 3개의 구문은 다음과 같은 의미이다.

### ① ios::sync_with_stdio(false);

C의 stdio와 C++의 iostream 동기화 비활성화, C++ 독립 버퍼 사용으로 수행 속도가 빨라지는 효과가 발생한다.

### ② cin.tie(NULL); cout.tie(NULL);

하나로 묶인 두 스트림을 푼다.

기본적으로 cin, cout은 하나로 묶였는데, 이것은 한 스트림이 묶인 다른 스트림에서 각 IO 작업을 진행하기 전 자동으로 버퍼를 지워주는 것을 보장한다.

특히 cin을 수행하기 전 기본적으로 cout 출력 버퍼를 지우는 작업을 수행하는데, 이 작업을 생략하기 때문에 속도가 빨라지는 효과가 있다.

